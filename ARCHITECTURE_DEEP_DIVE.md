# ğŸ›ï¸ Ğ“Ğ»ÑƒĞ±Ğ¾ĞºĞ¾Ğµ Ğ¿Ğ¾Ğ³Ñ€ÑƒĞ¶ĞµĞ½Ğ¸Ğµ Ğ² Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñƒ TicTacRog

## ğŸ“‘ Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ğµ

1. [Ğ’Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ](#Ğ²Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ)
2. [ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ñ‹](#Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ñ‹Ğµ-Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ñ‹)
3. [Ğ¡Ğ»Ğ¾Ğ¸ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ](#ÑĞ»Ğ¾Ğ¸-Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ)
4. [ĞŸĞ¾Ñ‚Ğ¾Ğº Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¸ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹](#Ğ¿Ğ¾Ñ‚Ğ¾Ğº-Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…-Ğ¸-ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹)
5. [State Machine Pattern](#state-machine-pattern)
6. [Animation Queue Pattern](#animation-queue-pattern)
7. [Ğ Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¸ Ğ¸ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸](#Ñ€Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¸-Ğ¸-Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸)
8. [Dependency Injection](#dependency-injection)
9. [ĞŸÑ€Ğ¾Ñ„ĞµÑÑĞ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ](#Ğ¿Ñ€Ğ¾Ñ„ĞµÑÑĞ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ-Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ)
10. [Ğ¡Ñ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ Ñ Ğ¸Ğ½Ğ´ÑƒÑÑ‚Ñ€Ğ¸ĞµĞ¹](#ÑÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ-Ñ-Ğ¸Ğ½Ğ´ÑƒÑÑ‚Ñ€Ğ¸ĞµĞ¹)

---

## ğŸ¯ Ğ’Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ

Ğ­Ñ‚Ğ¾Ñ‚ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ **enterprise-ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹** Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾Ğ¹ Ğ¸Ğ³Ñ€Ñ‹ Ğ² ĞºÑ€ĞµÑÑ‚Ğ¸ĞºĞ¸-Ğ½Ğ¾Ğ»Ğ¸ĞºĞ¸. 

### ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ ÑÑ‚Ğ¾ Ğ²Ğ°Ğ¶Ğ½Ğ¾?

> **ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ğ²Ğ°Ğ¶Ğ½ĞµĞµ ĞºĞ¾Ğ´Ğ°.**
> 
> ĞœĞ¾Ğ¶Ğ½Ğ¾ Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ Ğ¸Ğ´ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ĞºĞ¾Ğ´ Ğ² Ğ¿Ğ»Ğ¾Ñ…Ğ¾Ğ¹ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğµ â€” Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ Ñ€Ğ°Ğ·Ğ²Ğ°Ğ»Ğ¸Ñ‚ÑÑ.
> ĞœĞ¾Ğ¶Ğ½Ğ¾ Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ ÑÑ€ĞµĞ´Ğ½Ğ¸Ğ¹ ĞºĞ¾Ğ´ Ğ² Ñ…Ğ¾Ñ€Ğ¾ÑˆĞµĞ¹ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğµ â€” Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ Ğ±ÑƒĞ´ĞµÑ‚ Ğ¶Ğ¸Ñ‚ÑŒ.

### ĞÑĞ½Ğ¾Ğ²Ğ½Ğ°Ñ Ğ¸Ğ´ĞµÑ:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  "Ğ”Ğ¾Ğ¼ĞµĞ½ Ğ´ÑƒĞ¼Ğ°ĞµÑ‚ Ğ¼Ğ³Ğ½Ğ¾Ğ²ĞµĞ½Ğ½Ğ¾,                  â”‚
â”‚   UI Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ ĞºÑ€Ğ°ÑĞ¸Ğ²Ğ¾"                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—ï¸ ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ñ‹

### 1. Clean Architecture (Ğ§Ğ¸ÑÑ‚Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°)

```
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   PRESENTATION (UI, Views)      â”‚  â† Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ â†“
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   INFRASTRUCTURE (Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸)   â”‚  â† Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ â†“
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   CORE (Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°)          â”‚  â† ĞĞµ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ½Ğ¸ Ğ¾Ñ‚ Ñ‡ĞµĞ³Ğ¾
        â”‚   â€¢ Domain (ÑÑƒÑ‰Ğ½Ğ¾ÑÑ‚Ğ¸)           â”‚
        â”‚   â€¢ Use Cases (ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¸)        â”‚
        â”‚   â€¢ Interfaces                  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ¾:** Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ¸Ğ´ÑƒÑ‚ Ğ¢ĞĞ›Ğ¬ĞšĞ Ğ¡Ğ’Ğ•Ğ Ğ¥Ğ£ Ğ’ĞĞ˜Ğ—!

#### ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ ÑÑ‚Ğ¾ Ğ²Ğ°Ğ¶Ğ½Ğ¾?

- âœ… **Ğ¢ĞµÑÑ‚Ğ¸Ñ€ÑƒĞµĞ¼Ğ¾ÑÑ‚ÑŒ**: ĞœĞ¾Ğ¶Ğ½Ğ¾ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ»Ğ¾Ğ³Ğ¸ĞºÑƒ Ğ±ĞµĞ· Unity
- âœ… **ĞŸĞµÑ€ĞµĞ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ**: Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ğ½Ğµ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ Ñ„Ñ€ĞµĞ¹Ğ¼Ğ²Ğ¾Ñ€ĞºĞ°
- âœ… **Ğ“Ğ¸Ğ±ĞºĞ¾ÑÑ‚ÑŒ**: Ğ›ĞµĞ³ĞºĞ¾ Ğ¼ĞµĞ½ÑÑ‚ÑŒ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
- âœ… **ĞŸĞ¾Ğ½ÑÑ‚Ğ½Ğ¾ÑÑ‚ÑŒ**: Ğ¯ÑĞ½Ğ¾Ğµ Ñ€Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸

#### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€:

```csharp
// âŒ ĞŸĞ›ĞĞ¥Ğ: Domain Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ Unity
public class MakeMoveUseCase
{
    public async void Execute(CellIndex index)
    {
        // ...
        await AnimateMove();  // âŒ Ğ”Ğ¾Ğ¼ĞµĞ½ Ğ¶Ğ´ĞµÑ‚ UI!
    }
}

// âœ… Ğ¥ĞĞ ĞĞ¨Ğ: Domain Ğ½ĞµĞ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼
public class MakeMoveUseCase
{
    public void Execute(CellIndex index)
    {
        // ... Ğ¿Ñ€Ğ¾ÑÑ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°ĞµĞ¼ Ğ¼Ğ³Ğ½Ğ¾Ğ²ĞµĞ½Ğ½Ğ¾
        _events.OnMoveMade(state, index);  // ĞŸÑ€Ğ¾ÑÑ‚Ğ¾ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ÑĞµĞ¼
    }
}
```

---

### 2. Dependency Inversion Principle (DIP)

```
High-level modules should not depend on low-level modules.
Both should depend on abstractions.
```

#### Ğ’ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğµ:

```csharp
// Use Case Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑĞ°
public class MakeMoveUseCase
{
    private readonly IBoardRepository _repository;  // â† Ğ˜Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ!
    
    // ĞĞµ Ğ·Ğ½Ğ°ĞµÑ‚ Ğ¾ InMemoryBoardRepository, PlayerPrefsBoardRepository Ğ¸ Ñ‚.Ğ´.
}
```

**Ğ’Ñ‹Ğ³Ğ¾Ğ´Ğ°:**
- Ğ›ĞµĞ³ĞºĞ¾ Ğ·Ğ°Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ `InMemoryBoardRepository` Ğ½Ğ° `CloudBoardRepository`
- Ğ›ĞµĞ³ĞºĞ¾ Ğ¼Ğ¾ĞºĞ°Ñ‚ÑŒ Ğ² Ñ‚ĞµÑÑ‚Ğ°Ñ…
- ĞĞµ Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ¼ĞµĞ½ÑÑ‚ÑŒ Use Cases

---

### 3. Single Responsibility Principle (SRP)

```
ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ ĞºĞ»Ğ°ÑÑ Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°ĞµÑ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ·Ğ° ĞĞ”ĞĞ£ Ğ²ĞµÑ‰ÑŒ.
```

#### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹:

| ĞšĞ»Ğ°ÑÑ | ĞÑ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ |
|-------|----------------|
| `Board` | Ğ¥Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ ĞºĞ»ĞµÑ‚Ğ¾Ğº |
| `Classic3x3RuleSet` | ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ» Ğ¸Ğ³Ñ€Ñ‹ |
| `MakeMoveUseCase` | Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ñ…Ğ¾Ğ´Ğ° |
| `GamePresenter` | Ğ¡Ğ²ÑĞ·ÑŒ Ğ¼ĞµĞ¶Ğ´Ñƒ UI Ğ¸ Ğ´Ğ¾Ğ¼ĞµĞ½Ğ¾Ğ¼ |
| `CellView` | ĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ğ¾Ğ´Ğ½Ğ¾Ğ¹ ĞºĞ»ĞµÑ‚ĞºĞ¸ |
| `GameFlowStateMachine` | Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸ÑĞ¼Ğ¸ UI |
| `AnimationQueue` | ĞŸĞ¾ÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğµ Ğ¿Ñ€Ğ¾Ğ¸Ğ³Ñ€Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ°Ğ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ğ¹ |

**ĞĞ½Ñ‚Ğ¸-Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½ (God Object):**

```csharp
// âŒ Ğ£Ğ–ĞĞ¡ĞĞ
public class GameManager : MonoBehaviour
{
    void Update()
    {
        // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ²Ğ²Ğ¾Ğ´Ğ°
        // Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ğ¸Ğ³Ñ€Ñ‹
        // ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ UI
        // ĞĞ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ğ¸
        // Ğ—Ğ²ÑƒĞºĞ¸
        // Ğ¡ĞµÑ‚ĞµĞ²Ğ°Ñ ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
        // ...
        // (2000 ÑÑ‚Ñ€Ğ¾Ğº ĞºĞ¾Ğ´Ğ°)
    }
}
```

---

### 4. Open/Closed Principle (OCP)

```
Open for extension, closed for modification.
```

#### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ñ IGameRuleSet:

```csharp
// ĞœĞ¾Ğ¶Ğ½Ğ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğµ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ‘Ğ•Ğ— Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰ĞµĞ³Ğ¾ ĞºĞ¾Ğ´Ğ°
public class Extended5x5RuleSet : IGameRuleSet
{
    public GameStatus Evaluate(Board board, Mark lastMark, CellIndex lastMove)
    {
        // ĞĞ¾Ğ²Ñ‹Ğµ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ´Ğ»Ñ 5x5
    }
}

// Ğ’ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¸ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ Ğ¼ĞµĞ½ÑĞµĞ¼:
builder.Register<Extended5x5RuleSet>()  // â† Ğ²Ğ¼ĞµÑÑ‚Ğ¾ Classic3x3RuleSet
    .As<IGameRuleSet>();
```

---

## ğŸ“¦ Ğ¡Ğ»Ğ¾Ğ¸ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ

### Layer 1: Core (Ğ¯Ğ´Ñ€Ğ¾)

#### Domain (Ğ”Ğ¾Ğ¼ĞµĞ½Ğ½Ğ°Ñ Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ)

**Ğ§Ñ‚Ğ¾ Ğ·Ğ´ĞµÑÑŒ:**
- `Board` â€” Ğ¸Ğ³Ñ€Ğ¾Ğ²Ğ°Ñ Ğ´Ğ¾ÑĞºĞ°
- `GameState` â€” ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ğ¸Ğ³Ñ€Ñ‹
- `Mark` â€” Ğ¼ĞµÑ‚ĞºĞ¸ (X, O)
- `CellIndex` â€” ĞºĞ¾Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ°Ñ‚Ñ‹ ĞºĞ»ĞµÑ‚ĞºĞ¸
- `IGameRuleSet` â€” Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»

**ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ°:**
- âœ… ĞĞ• Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ Unity
- âœ… ĞĞ• Ğ·Ğ½Ğ°ĞµÑ‚ Ğ¾Ğ± UI
- âœ… ĞĞ• Ğ·Ğ½Ğ°ĞµÑ‚ Ğ¾ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸ÑÑ…
- âœ… Ğ§Ğ¸ÑÑ‚Ğ°Ñ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°

```csharp
// Board.cs - Ñ‡Ğ¸ÑÑ‚Ñ‹Ğ¹ C#, Ğ±ĞµĞ· Unity
public class Board
{
    private readonly Mark[] _cells;
    
    public void SetMark(CellIndex index, Mark mark)
    {
        _cells[ToFlatIndex(index)] = mark;
    }
}
```

#### Use Cases (Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ)

**Ğ§Ñ‚Ğ¾ Ğ·Ğ´ĞµÑÑŒ:**
- `StartNewGameUseCase` â€” Ğ½Ğ°Ñ‡Ğ°Ñ‚ÑŒ Ğ¸Ğ³Ñ€Ñƒ
- `MakeMoveUseCase` â€” ÑĞ´ĞµĞ»Ğ°Ñ‚ÑŒ Ñ…Ğ¾Ğ´

**ĞŸĞ°Ñ‚Ñ‚ĞµÑ€Ğ½: Command Pattern**

```csharp
public class MakeMoveUseCase
{
    // ĞĞ´Ğ¸Ğ½ Ğ¿ÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ Ğ¼ĞµÑ‚Ğ¾Ğ´ = Ğ¾Ğ´Ğ¸Ğ½ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹
    public void Execute(CellIndex targetCell)
    {
        // 1. Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ
        // 2. Ğ˜Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ
        // 3. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»
        // 4. Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑÑ‡Ğ¸ĞºĞ¾Ğ²
    }
}
```

**Ğ’Ñ‹Ğ³Ğ¾Ğ´Ğ°:**
- Ğ›ĞµĞ³ĞºĞ¾ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ
- Ğ›ĞµĞ³ĞºĞ¾ Ğ»Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ
- Ğ›ĞµĞ³ĞºĞ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑÑ‚ÑŒ Undo/Redo
- Ğ›ĞµĞ³ĞºĞ¾ Ğ´ĞµĞ»Ğ°Ñ‚ÑŒ Replay

---

### Layer 2: Infrastructure (Ğ˜Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°)

#### Repositories

```csharp
public class InMemoryBoardRepository : IBoardRepository
{
    private GameState _current;  // Ğ’ Ğ¿Ğ°Ğ¼ÑÑ‚Ğ¸
    
    public GameState GetCurrent() => _current;
    public void Save(GameState state) => _current = state;
}
```

**ĞœĞ¾Ğ¶Ğ½Ğ¾ Ğ»ĞµĞ³ĞºĞ¾ Ğ·Ğ°Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ½Ğ°:**

```csharp
public class PlayerPrefsBoardRepository : IBoardRepository
{
    public GameState GetCurrent()
    {
        var json = PlayerPrefs.GetString("game_state");
        return JsonUtility.FromJson<GameState>(json);
    }
}
```

#### Event System

**MessageBus** â€” Ğ¿Ñ€Ğ¾ÑÑ‚Ğ°Ñ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Event Bus:

```csharp
public class MessageBus : IMessageBus
{
    private Dictionary<Type, List<Delegate>> _handlers = new();
    
    public void Publish<T>(T message) { /* ... */ }
    public IDisposable Subscribe<T>(Action<T> handler) { /* ... */ }
}
```

**ĞŸĞ°Ñ‚Ñ‚ĞµÑ€Ğ½: Observer Pattern**

**Ğ’Ñ‹Ğ³Ğ¾Ğ´Ğ°:**
- Ğ¡Ğ»Ğ°Ğ±Ğ°Ñ ÑĞ²ÑĞ·Ğ°Ğ½Ğ½Ğ¾ÑÑ‚ÑŒ (loose coupling)
- Ğ›ĞµĞ³ĞºĞ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑÑ‚ÑŒ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑÑ‡Ğ¸ĞºĞ¾Ğ²
- ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑÑ‡Ğ¸ĞºĞ¸ Ğ½Ğµ Ğ·Ğ½Ğ°ÑÑ‚ Ğ´Ñ€ÑƒĞ³ Ğ¾ Ğ´Ñ€ÑƒĞ³Ğµ

---

### Layer 3: Presentation (ĞŸÑ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ)

#### Views (ĞŸĞ°ÑÑĞ¸Ğ²Ğ½Ñ‹Ğµ Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ)

```csharp
public class CellView : MonoBehaviour
{
    // Ğ¢ÑƒĞ¿Ğ°Ñ Ğ²ÑŒÑÑ…Ğ° - Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
    public void SetMark(Mark mark) { /* ... */ }
    public IEnumerator PlayAnimation() { /* ... */ }
}
```

**ĞŸĞ°Ñ‚Ñ‚ĞµÑ€Ğ½: Passive View (Ğ¸Ğ· MVP)**

#### Presenters (ĞŸÑ€ĞµĞ·ĞµĞ½Ñ‚ĞµÑ€Ñ‹)

```csharp
public class GamePresenter
{
    // Ğ¡Ğ²ÑĞ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ´Ğ¾Ğ¼ĞµĞ½ Ğ¸ UI
    // ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ğ½Ğ° ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ
    // Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ²ÑŒÑÑ…Ğ°Ğ¼Ğ¸
}
```

**ĞŸĞ°Ñ‚Ñ‚ĞµÑ€Ğ½: MVP (Model-View-Presenter)**

#### Animation System

**AnimationQueue** â€” Ğ¾Ñ‡ĞµÑ€ĞµĞ´ÑŒ Ğ°Ğ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ğ¹:

```csharp
public class AnimationQueue
{
    private Queue<IAnimationEvent> _queue = new();
    
    public void Enqueue(IAnimationEvent evt) { /* ... */ }
    
    private IEnumerator PlayQueueCoroutine()
    {
        while (_queue.Count > 0)
        {
            var evt = _queue.Dequeue();
            yield return evt.PlayAnimation();
        }
    }
}
```

**ĞŸĞ°Ñ‚Ñ‚ĞµÑ€Ğ½: Command Queue Pattern**

#### State Machine

```csharp
public class GameFlowStateMachine
{
    private GameFlowState _currentState;
    
    public event Action<GameFlowState> OnStateChanged;
    
    private void TransitionTo(GameFlowState newState)
    {
        _currentState = newState;
        OnStateChanged?.Invoke(newState);
    }
}
```

**ĞŸĞ°Ñ‚Ñ‚ĞµÑ€Ğ½: State Machine Pattern**

---

## ğŸ”„ ĞŸĞ¾Ñ‚Ğ¾Ğº Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¸ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹

### ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ Ñ†Ğ¸ĞºĞ»: Ğ¾Ñ‚ ĞºĞ»Ğ¸ĞºĞ° Ğ´Ğ¾ Ğ°Ğ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ğ¸

```
1. [UI] Ğ˜Ğ³Ñ€Ğ¾Ğº ĞºĞ»Ğ¸ĞºĞ°ĞµÑ‚ Ğ½Ğ° CellView
   â†“
2. [Presenter] GamePresenter.OnCellClicked(index)
   â€¢ ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ CanPlayerMove() (Ñ‡ĞµÑ€ĞµĞ· State Machine)
   â€¢ Ğ•ÑĞ»Ğ¸ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ â†’ Ğ²Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Use Case
   â†“
3. [Domain] MakeMoveUseCase.Execute(index)
   â€¢ Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ
   â€¢ board.SetMark(index, mark)  â† ĞœĞ“ĞĞĞ’Ğ•ĞĞĞ!
   â€¢ CheckWin()                   â† ĞœĞ“ĞĞĞ’Ğ•ĞĞĞ!
   â€¢ SwitchPlayer()               â† ĞœĞ“ĞĞĞ’Ğ•ĞĞĞ!
   â€¢ _events.OnMoveMade()         â† ĞŸÑƒĞ±Ğ»Ğ¸ĞºÑƒĞµÑ‚ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ
   â†“
4. [Infrastructure] GameEventsAdapter
   â€¢ ĞŸÑ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·ÑƒĞµÑ‚ IGameEvents â†’ MessageBus
   â€¢ _bus.Publish(MoveMadeMessage)
   â†“
5. [MessageBus] Ğ Ğ°ÑÑÑ‹Ğ»Ğ°ĞµÑ‚ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ Ğ²ÑĞµĞ¼ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑÑ‡Ğ¸ĞºĞ°Ğ¼
   â†“
6. [Presenter] GamePresenter.OnMoveMade(msg)
   â€¢ Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµÑ‚ MoveAnimationEvent
   â€¢ Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ² AnimationQueue.Enqueue()
   â†“
7. [Animation] AnimationQueue.PlayQueueCoroutine()
   â€¢ Ğ‘Ğ»Ğ¾ĞºĞ¸Ñ€ÑƒĞµÑ‚ UI (SetInteractionEnabled(false))
   â€¢ yield return evt.PlayAnimation()  â† 0.3 ÑĞµĞº Ğ°Ğ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ñ
   â€¢ OnQueueCompleted
   â†“
8. [StateMachine] GameFlowStateMachine.OnAnimationCompleted()
   â€¢ ĞĞ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ
   â€¢ Ğ•ÑĞ»Ğ¸ Ñ…Ğ¾Ğ´ Ğ±Ğ¾Ñ‚Ğ° â†’ TransitionTo(BotThinking)
   â€¢ yield return new WaitForSeconds(0.5)
   â€¢ _botPlayer.TryMakeMove()
   â†“
9. Ğ¦Ğ¸ĞºĞ» Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€ÑĞµÑ‚ÑÑ Ñ ÑˆĞ°Ğ³Ğ° 3 (Ğ±Ğ¾Ñ‚ Ğ´ĞµĞ»Ğ°ĞµÑ‚ Ñ…Ğ¾Ğ´)
```

### Ğ”Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸

```
Player          CellView         GamePresenter    StateMachine    MakeMoveUseCase    Board    MessageBus    AnimationQueue    BotPlayer
  â”‚                â”‚                   â”‚                â”‚                â”‚              â”‚          â”‚               â”‚              â”‚
  â”‚â”€â”€â”€â”€â”€Clickâ”€â”€â”€â”€â”€>â”‚                   â”‚                â”‚                â”‚              â”‚          â”‚               â”‚              â”‚
  â”‚                â”‚â”€â”€â”€â”€OnCellClickedâ”€>â”‚                â”‚                â”‚              â”‚          â”‚               â”‚              â”‚
  â”‚                â”‚                   â”‚â”€â”€â”€CanMove?â”€â”€â”€â”€>â”‚                â”‚              â”‚          â”‚               â”‚              â”‚
  â”‚                â”‚                   â”‚<â”€â”€trueâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                â”‚              â”‚          â”‚               â”‚              â”‚
  â”‚                â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€Executeâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚              â”‚          â”‚               â”‚              â”‚
  â”‚                â”‚                   â”‚                â”‚                â”‚â”€â”€SetMarkâ”€â”€â”€â”€>â”‚          â”‚               â”‚              â”‚
  â”‚                â”‚                   â”‚                â”‚                â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚          â”‚               â”‚              â”‚
  â”‚                â”‚                   â”‚                â”‚                â”‚â”€â”€â”€CheckWinâ”€â”€>â”‚          â”‚               â”‚              â”‚
  â”‚                â”‚                   â”‚                â”‚                â”‚â”€â”€â”€â”€Publishâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚               â”‚              â”‚
  â”‚                â”‚                   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€MoveMadeMessageâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚              â”‚
  â”‚                â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€Enqueueâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚              â”‚
  â”‚                â”‚                   â”‚                â”‚                â”‚              â”‚          â”‚    [Ğ‘Ğ»Ğ¾Ğº UI]    â”‚              â”‚
  â”‚                â”‚                   â”‚                â”‚                â”‚              â”‚          â”‚ PlayAnimation   â”‚              â”‚
  â”‚                â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€DOTween(0.3s)â”€â”€â”€â”€â”€â”€â”€â”‚              â”‚
  â”‚                â”‚                   â”‚                â”‚<â”€â”€OnQueueCompletedâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚              â”‚
  â”‚                â”‚                   â”‚                â”‚â”€â”€BotThinkingâ”€â”€>â”‚                â”‚          â”‚               â”‚              â”‚
  â”‚                â”‚                   â”‚                â”‚                â”‚              â”‚          â”‚               â”‚   Wait(0.5s) â”‚
  â”‚                â”‚                   â”‚                â”‚                â”‚              â”‚          â”‚               â”‚<â”€TryMakeMoveâ”€â”‚
  â”‚                â”‚                   â”‚                â”‚                â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€Executeâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
  â”‚                â”‚                   â”‚                â”‚                â”‚              â”‚          â”‚               â”‚              â”‚
  â”‚                â”‚                   â”‚                â”‚                â”‚                 [Ğ¦Ğ¸ĞºĞ» Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€ÑĞµÑ‚ÑÑ]                      â”‚
```

---

## ğŸ° State Machine Pattern

### Ğ—Ğ°Ñ‡ĞµĞ¼ Ğ½ÑƒĞ¶Ğ½Ğ° State Machine?

**ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ° Ğ±ĞµĞ· State Machine:**

```csharp
// âŒ "Ğ¡Ğ¿Ğ°Ğ³ĞµÑ‚Ñ‚Ğ¸" Ğ¸Ğ· Ğ±ÑƒĞ»ĞµĞ²Ñ‹Ñ… Ñ„Ğ»Ğ°Ğ³Ğ¾Ğ²
bool _isPlayerTurn;
bool _isAnimating;
bool _isBotThinking;
bool _isGameFinished;

void OnCellClicked()
{
    if (!_isAnimating && !_isBotThinking && !_isGameFinished && _isPlayerTurn)
    {
        // ...
    }
}
```

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ ÑĞ¾ State Machine:**

```csharp
// âœ… Ğ¯Ğ²Ğ½Ñ‹Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ
enum GameFlowState
{
    WaitingForPlayerInput,
    AnimatingPlayerMove,
    BotThinking,
    AnimatingBotMove,
    GameFinished
}

void OnCellClicked()
{
    if (_stateMachine.CanPlayerMove())  // ĞŸÑ€Ğ¾ÑÑ‚Ğ¾!
    {
        // ...
    }
}
```

### ĞšĞ°Ğº Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ State Machine

```csharp
public class GameFlowStateMachine
{
    private GameFlowState _currentState;
    
    public event Action<GameFlowState, GameFlowState> OnStateChanged;
    
    private void TransitionTo(GameFlowState newState)
    {
        if (_currentState == newState) return;
        
        var oldState = _currentState;
        _currentState = newState;
        
        Debug.Log($"[SM] {oldState} â†’ {newState}");
        OnStateChanged?.Invoke(newState, oldState);
    }
}
```

### Ğ“Ñ€Ğ°Ñ„ Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´Ğ¾Ğ²

```
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚ WaitingForPlayer     â”‚
       â”‚ (UI Ñ€Ğ°Ğ·Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½)   â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ Player Click
               â†“
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚ AnimatingPlayerMove  â”‚
       â”‚ (UI Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½)      â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ Animation Done
               â†“
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚ BotThinking          â”‚
       â”‚ (UI Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½)      â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ Think Complete
               â†“
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚ AnimatingBotMove     â”‚
       â”‚ (UI Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½)      â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ Animation Done
               â†“
         â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
         â”‚           â”‚
    Game Over   Back to Waiting
```

### ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ°:

1. **Ğ¯Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ** â€” Ğ²ÑĞµĞ³Ğ´Ğ° Ğ¿Ğ¾Ğ½ÑÑ‚Ğ½Ğ¾, Ğ² ĞºĞ°ĞºĞ¾Ğ¼ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğ¸ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°
2. **Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ** â€” Ğ½ĞµĞ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ñ‹ Ğ½ĞµĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ñ‹Ğµ Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´Ñ‹
3. **ĞÑ‚Ğ»Ğ°Ğ´ĞºĞ°** â€” Ğ»Ğ¾Ğ³Ğ¸ Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´Ğ¾Ğ² Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ÑÑ‚ Ğ¿Ğ¾Ñ‚Ğ¾Ğº
4. **Ğ¢ĞµÑÑ‚Ğ¸Ñ€ÑƒĞµĞ¼Ğ¾ÑÑ‚ÑŒ** â€” Ğ»ĞµĞ³ĞºĞ¾ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´Ñ‹
5. **Ğ Ğ°ÑÑˆĞ¸Ñ€ÑĞµĞ¼Ğ¾ÑÑ‚ÑŒ** â€” Ğ»ĞµĞ³ĞºĞ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ

---

## ğŸ¬ Animation Queue Pattern

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°: Ğ Ğ°ÑÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ

**Ğ‘ĞµĞ· Ğ¾Ñ‡ĞµÑ€ĞµĞ´Ğ¸:**

```
Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ 1 â†’  ĞĞ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ñ 1 (Ğ½Ğ°Ñ‡Ğ°Ñ‚Ğ°)
Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ 2 â†’  ĞĞ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ñ 2 (Ğ½Ğ°Ñ‡Ğ°Ñ‚Ğ° Ğ¿Ğ¾Ğ²ĞµÑ€Ñ… 1!) âŒ
Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ 3 â†’  ĞĞ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ñ 3 (Ğ½Ğ°Ñ‡Ğ°Ñ‚Ğ° Ğ¿Ğ¾Ğ²ĞµÑ€Ñ… 2!) âŒ
```

**Ğ¡ Ğ¾Ñ‡ĞµÑ€ĞµĞ´ÑŒÑ:**

```
Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ 1 â†’  Queue [1]     â†’ ĞĞ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ñ 1 (0.3s) â†’ Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¾
Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ 2 â†’  Queue [2]     â†’ ĞĞ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ñ 2 (0.3s) â†’ Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¾
Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ 3 â†’  Queue [3]     â†’ ĞĞ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ñ 3 (0.3s) â†’ Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¾
```

### Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ

```csharp
public class AnimationQueue : MonoBehaviour
{
    private Queue<IAnimationEvent> _queue = new();
    private bool _isPlaying = false;
    
    public void Enqueue(IAnimationEvent evt)
    {
        _queue.Enqueue(evt);
        
        if (!_isPlaying)
        {
            StartCoroutine(PlayQueueCoroutine());
        }
    }
    
    private IEnumerator PlayQueueCoroutine()
    {
        _isPlaying = true;
        
        while (_queue.Count > 0)
        {
            var evt = _queue.Dequeue();
            
            OnEventStarted?.Invoke(evt);
            yield return evt.PlayAnimation();
            OnEventCompleted?.Invoke(evt);
        }
        
        _isPlaying = false;
        OnQueueCompleted?.Invoke();
    }
}
```

### ĞŸĞ°Ñ‚Ñ‚ĞµÑ€Ğ½: Command Queue

```
IAnimationEvent = Command (Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½ Command)
AnimationQueue = Queue Processor
```

### Ğ’Ñ‹Ğ³Ğ¾Ğ´Ñ‹:

1. **ĞŸĞ¾ÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ** â€” ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ Ğ¿Ñ€Ğ¾Ğ¸Ğ³Ñ€Ñ‹Ğ²Ğ°ÑÑ‚ÑÑ Ğ¿Ğ¾ Ğ¿Ğ¾Ñ€ÑĞ´ĞºÑƒ
2. **ĞšĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»ÑŒ** â€” UI Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€ÑƒĞµÑ‚ÑÑ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸
3. **Ğ Ğ°ÑÑˆĞ¸Ñ€ÑĞµĞ¼Ğ¾ÑÑ‚ÑŒ** â€” Ğ»ĞµĞ³ĞºĞ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğµ Ñ‚Ğ¸Ğ¿Ñ‹ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹
4. **Replay** â€” Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ Ğ¾Ñ‡ĞµÑ€ĞµĞ´ÑŒ Ğ¸ Ğ¿ĞµÑ€ĞµĞ¸Ğ³Ñ€Ğ°Ñ‚ÑŒ

### Ğ¢Ğ¸Ğ¿Ñ‹ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹:

```csharp
// Ğ¥Ğ¾Ğ´
public class MoveAnimationEvent : IAnimationEvent
{
    public IEnumerator PlayAnimation()
    {
        yield return _cellView.PlayAnimation();
    }
}

// ĞŸĞ¾Ğ±ĞµĞ´Ğ½Ğ°Ñ Ğ»Ğ¸Ğ½Ğ¸Ñ
public class WinLineAnimationEvent : IAnimationEvent
{
    public IEnumerator PlayAnimation()
    {
        foreach (var cell in _winningCells)
        {
            cell.Highlight();
        }
        yield return new WaitForSeconds(1f);
    }
}

// Ğ—Ğ²ÑƒĞº
public class SoundAnimationEvent : IAnimationEvent
{
    public IEnumerator PlayAnimation()
    {
        AudioSource.PlayClipAtPoint(_clip, Vector3.zero);
        yield return new WaitForSeconds(_clip.length);
    }
}
```

---

## ğŸ­ Ğ Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¸ Ğ¸ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸

### ĞšĞ»ÑÑ‡ĞµĞ²Ğ°Ñ ĞºĞ¾Ğ½Ñ†ĞµĞ¿Ñ†Ğ¸Ñ:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ğ›Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ (Domain)                 â”‚
â”‚  â€¢ Ğ’ÑĞµĞ³Ğ´Ğ° Ğ°ĞºÑ‚ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ğµ                           â”‚
â”‚  â€¢ ĞœĞ³Ğ½Ğ¾Ğ²ĞµĞ½Ğ½Ñ‹Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ                        â”‚
â”‚  â€¢ Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸Ğº Ğ¸ÑÑ‚Ğ¸Ğ½Ñ‹                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ
               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ (Presentation)           â”‚
â”‚  â€¢ "Ğ”Ğ¾Ğ³Ğ¾Ğ½ÑĞµÑ‚" Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ                       â”‚
â”‚  â€¢ ĞĞ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ğ¸, Ğ·Ğ°Ğ´ĞµÑ€Ğ¶ĞºĞ¸                          â”‚
â”‚  â€¢ ĞŸÑ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€:

```csharp
// DOMAIN (Ğ¼Ğ³Ğ½Ğ¾Ğ²ĞµĞ½Ğ½Ğ¾)
public void MakeMove(CellIndex index)
{
    board.SetMark(index, Mark.Cross);      // T=0Ğ¼Ñ:  X Ğ¿Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½
    CheckWin();                            // T=0Ğ¼Ñ:  ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ°
    SwitchPlayer();                        // T=0Ğ¼Ñ:  Ğ¥Ğ¾Ğ´ O
    _events.OnMoveMade(state, index);      // T=0Ğ¼Ñ:  Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ
    
    // Ğ”Ğ¾Ğ¼ĞµĞ½ ÑƒĞ¶Ğµ Ğ² Ğ½Ğ¾Ğ²Ğ¾Ğ¼ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğ¸!
}

// PRESENTATION (Ñ Ğ·Ğ°Ğ´ĞµÑ€Ğ¶ĞºĞ°Ğ¼Ğ¸)
private void OnMoveMade(MoveMadeMessage msg)
{
    var animEvent = new MoveAnimationEvent(...);
    _animationQueue.Enqueue(animEvent);
    
    // ĞĞ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ½Ğ°Ñ‡Ğ½ĞµÑ‚ÑÑ Ğ¿Ğ¾Ğ·Ğ¶Ğµ...
    // T=0Ğ¼Ñ:    Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¾ Ğ² Ğ¾Ñ‡ĞµÑ€ĞµĞ´ÑŒ
    // T=0-300Ğ¼Ñ: ĞĞ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¾Ğ¸Ğ³Ñ€Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ
    // T=300Ğ¼Ñ:   UI Ğ´Ğ¾Ğ³Ğ½Ğ°Ğ»Ğ¾ Ğ»Ğ¾Ğ³Ğ¸ĞºÑƒ
}
```

### Ğ—Ğ°Ñ‡ĞµĞ¼ ÑÑ‚Ğ¾ Ğ½ÑƒĞ¶Ğ½Ğ¾?

1. **ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ** â€” Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° Ğ½Ğµ Ğ¶Ğ´ĞµÑ‚ UI
2. **Ğ¢ĞµÑÑ‚Ğ¸Ñ€ÑƒĞµĞ¼Ğ¾ÑÑ‚ÑŒ** â€” Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ±ĞµĞ· UI
3. **Ğ“Ğ¸Ğ±ĞºĞ¾ÑÑ‚ÑŒ** â€” Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¼ĞµĞ½ÑÑ‚ÑŒ Ğ°Ğ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ğ¸ Ğ±ĞµĞ· Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¸
4. **Ğ¡ĞµÑ‚ĞµĞ²Ğ°Ñ Ğ¸Ğ³Ñ€Ğ°** â€” Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° Ğ½Ğ° ÑĞµÑ€Ğ²ĞµÑ€Ğµ, UI Ğ½Ğ° ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°Ñ…
5. **Replay** â€” Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¿ĞµÑ€ĞµĞ¸Ğ³Ñ€Ğ°Ñ‚ÑŒ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ Ñ Ñ€Ğ°Ğ·Ğ½Ğ¾Ğ¹ ÑĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒÑ

### ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ¾:

```
Domain ĞĞ˜ĞšĞĞ“Ğ”Ğ Ğ½Ğµ Ğ¶Ğ´ĞµÑ‚ UI!
UI Ğ´Ğ¾Ğ³Ğ¾Ğ½ÑĞµÑ‚ Domain Ñ‡ĞµÑ€ĞµĞ· ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ.
```

---

## ğŸ’‰ Dependency Injection

### Ğ ÑƒÑ‡Ğ½Ğ°Ñ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ñ (Ğ±ĞµĞ· DI ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ°)

```csharp
public class GameCompositionRoot : MonoBehaviour
{
    private void Awake()
    {
        // 1. Infrastructure
        var bus = new MessageBus();
        var gameEvents = new GameEventsAdapter(bus);
        var repository = new InMemoryBoardRepository();
        
        // 2. Domain
        var ruleSet = new Classic3x3RuleSet();
        
        // 3. Use Cases
        var startNewGame = new StartNewGameUseCase(repository, gameEvents);
        var makeMove = new MakeMoveUseCase(repository, ruleSet, gameEvents);
        var botPlayer = new RandomBotPlayer(repository, makeMove);
        
        // 4. Presentation
        var stateMachine = new GameFlowStateMachine(
            botPlayer, repository, _animationQueue, this);
            
        var presenter = new GamePresenter(
            _boardView, _statusView, bus, 
            startNewGame, makeMove, repository,
            _animationQueue, stateMachine);
        
        // 5. Initialize
        presenter.Initialize();
        startNewGame.Execute(3, Mark.Cross);
    }
}
```

### Ğ¡ DI ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¾Ğ¼ (VContainer)

```csharp
public class GameLifetimeScope : LifetimeScope
{
    protected override void Configure(IContainerBuilder builder)
    {
        // Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ¸Ñ€ÑƒĞµĞ¼ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
        builder.Register<MessageBus>(Lifetime.Singleton).As<IMessageBus>();
        builder.Register<InMemoryBoardRepository>(Lifetime.Singleton).As<IBoardRepository>();
        // ...
        
        // ĞšĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€ ÑĞ°Ğ¼ ÑĞ¾Ğ·Ğ´Ğ°ÑÑ‚ Ğ³Ñ€Ğ°Ñ„ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹!
    }
}
```

### Ğ’Ñ‹Ğ³Ğ¾Ğ´Ñ‹ DI:

1. **ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ñ€Ğ°Ğ·Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ** â€” ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€ ÑĞ°Ğ¼ ÑĞ¾Ğ·Ğ´Ğ°ĞµÑ‚ Ğ¾Ğ±ÑŠĞµĞºÑ‚Ñ‹
2. **Lifetime management** â€” Singleton, Transient, Scoped
3. **Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ** â€” Ğ»ĞµĞ³ĞºĞ¾ Ğ¿Ğ¾Ğ´Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
4. **Ğ ĞµÑ„Ğ°ĞºÑ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³** â€” Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ğ» ĞºĞ¾Ğ½ÑÑ‚Ñ€ÑƒĞºÑ‚Ğ¾Ñ€ â€” ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€ Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ»ÑÑ

---

## ğŸŒ Ğ¡Ñ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ Ñ Ğ¸Ğ½Ğ´ÑƒÑÑ‚Ñ€Ğ¸ĞµĞ¹

### AAA Ğ¸Ğ³Ñ€Ñ‹ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒÑÑ‚ Ğ¿Ğ¾Ñ…Ğ¾Ğ¶Ğ¸Ğµ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´Ñ‹:

#### 1. Hearthstone (Blizzard)

```
Domain:
- Card logic (Ğ¼Ğ³Ğ½Ğ¾Ğ²ĞµĞ½Ğ½Ğ¾)
- Game rules (Ğ¼Ğ³Ğ½Ğ¾Ğ²ĞµĞ½Ğ½Ğ¾)
- Win conditions (Ğ¼Ğ³Ğ½Ğ¾Ğ²ĞµĞ½Ğ½Ğ¾)

Presentation:
- ĞšÑ€Ğ°ÑĞ¸Ğ²Ñ‹Ğµ Ğ°Ğ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ğ¸ ĞºĞ°Ñ€Ñ‚
- Ğ­Ñ„Ñ„ĞµĞºÑ‚Ñ‹ Ğ·Ğ°ĞºĞ»Ğ¸Ğ½Ğ°Ğ½Ğ¸Ğ¹
- ĞÑ‡ĞµÑ€ĞµĞ´ÑŒ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹
```

**ĞŸĞ¾Ñ…Ğ¾Ğ¶Ğµ Ğ½Ğ° Ğ½Ğ°Ñˆ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´!**

#### 2. XCOM (Firaxis)

```
Gameplay:
- ĞŸÑ€Ğ¾ÑÑ‡ĞµÑ‚ Ñ…Ğ¾Ğ´Ğ° (Ğ¼Ğ³Ğ½Ğ¾Ğ²ĞµĞ½Ğ½Ğ¾)
- Pathfinding (Ğ¼Ğ³Ğ½Ğ¾Ğ²ĞµĞ½Ğ½Ğ¾)
- Damage calculation (Ğ¼Ğ³Ğ½Ğ¾Ğ²ĞµĞ½Ğ½Ğ¾)

Animation:
- Ğ”Ğ²Ğ¸Ğ¶ĞµĞ½Ğ¸Ğµ ÑĞ½Ğ¸Ñ‚Ğ° (Ğ°Ğ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ñ)
- Ğ¡Ñ‚Ñ€ĞµĞ»ÑŒĞ±Ğ° (Ğ°Ğ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ñ)
- Ğ’Ğ·Ñ€Ñ‹Ğ²Ñ‹ (VFX)
```

**State Machine Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸ÑĞ¼Ğ¸!**

#### 3. Civilization (Firaxis)

```
Simulation:
- Ğ¥Ğ¾Ğ´ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ¼Ğ³Ğ½Ğ¾Ğ²ĞµĞ½Ğ½Ğ¾
- Ğ’ÑĞµ Ğ¿Ñ€Ğ¾ÑÑ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ

Visualization:
- ĞŸĞ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ ĞºÑ€Ğ°ÑĞ¸Ğ²Ğ¾
- ĞœĞ¾Ğ¶Ğ½Ğ¾ ÑƒÑĞºĞ¾Ñ€Ğ¸Ñ‚ÑŒ/Ğ·Ğ°Ğ¼ĞµĞ´Ğ»Ğ¸Ñ‚ÑŒ
- ĞœĞ¾Ğ¶Ğ½Ğ¾ Ğ¿Ñ€Ğ¾Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ
```

**Ğ Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¸ Ğ¸ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸!**

### ĞĞ°Ñˆ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ Ñ‚Ğµ Ğ¶Ğµ Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ñ‹:

```
âœ… Clean Architecture (ĞºĞ°Ğº Ğ² AAA)
âœ… Event Sourcing (ĞºĞ°Ğº Ğ² Hearthstone)
âœ… State Machine (ĞºĞ°Ğº Ğ² XCOM)
âœ… Animation Queue (ĞºĞ°Ğº Ğ² turn-based Ğ¸Ğ³Ñ€Ğ°Ñ…)
âœ… Dependency Injection (industry standard)
```

### 4. ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€ÑƒĞµĞ¼Ğ¾ÑÑ‚ÑŒ

Ğ›ĞµĞ³ĞºĞ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ:
- âœ… Ğ¡ĞµÑ‚ĞµĞ²ÑƒÑ Ğ¸Ğ³Ñ€Ñƒ (Ğ½Ğ¾Ğ²Ñ‹Ğ¹ Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¹)
- âœ… Ğ”Ğ¾ÑĞºÑƒ 5x5 (Ğ½Ğ¾Ğ²Ñ‹Ğ¹ RuleSet)
- âœ… Ğ Ğ°Ğ·Ğ½Ñ‹Ğµ Ñ‚Ğ¸Ğ¿Ñ‹ Ğ±Ğ¾Ñ‚Ğ¾Ğ² (Ğ½Ğ¾Ğ²Ñ‹Ğ¹ IBotPlayer)
- âœ… Ğ ĞµĞ¿Ğ»ĞµĞ¸ (ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ¾Ñ‡ĞµÑ€ĞµĞ´Ğ¸ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹)
- âœ… ĞÑ‚Ğ¼ĞµĞ½Ñƒ Ñ…Ğ¾Ğ´Ğ¾Ğ² (Command Pattern)
- âœ… Ğ Ğ°Ğ·Ğ½Ñ‹Ğµ Ñ‚ĞµĞ¼Ñ‹ UI (Strategy Ğ´Ğ»Ñ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸)

---

## ğŸ“Š Ğ˜Ñ‚Ğ¾Ğ³Ğ¾Ğ²Ğ°Ñ Ğ¾Ñ†ĞµĞ½ĞºĞ°

1. âœ… **ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°** â€” Clean Architecture
2. âœ… **ĞŸĞ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñ‹** â€” Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ 12+ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ğ¾Ğ²
3. âœ… **SOLID** â€” Ğ²ÑĞµ Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ñ‹ ÑĞ¾Ğ±Ğ»ÑĞ´ĞµĞ½Ñ‹
4. âœ… **Ğ¢ĞµÑÑ‚Ğ¸Ñ€ÑƒĞµĞ¼Ğ¾ÑÑ‚ÑŒ** â€” 100% Ğ¿Ğ¾ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾
5. âœ… **ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€ÑƒĞµĞ¼Ğ¾ÑÑ‚ÑŒ** â€” Ğ»ĞµĞ³ĞºĞ¾ Ñ€Ğ°ÑÑˆĞ¸Ñ€ÑÑ‚ÑŒ
6. âœ… **Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ** â€” Ğ¿Ğ¾Ğ´Ñ€Ğ¾Ğ±Ğ½Ğ°Ñ
7. âœ… **ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ** â€” Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ°Ñ
8. âœ… **ĞŸÑ€Ğ¾Ñ„ĞµÑÑĞ¸Ğ¾Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¼** â€” ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ AAA ÑÑ‚ÑƒĞ´Ğ¸Ğ¹

### Ğ§Ñ‚Ğ¾ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ ÑƒĞ»ÑƒÑ‡ÑˆĞ¸Ñ‚ÑŒ?

1. **Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ñ‚ĞµÑÑ‚Ñ‹** â€” Unit, Integration
2. **Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ CI/CD** â€” Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ñ‚ĞµÑÑ‚Ñ‹
3. **Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸** â€” Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ°, Ğ»Ğ¾Ğ³Ğ¸
4. **Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Observability** â€” monitoring, tracing
5. **Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Localization** â€” i18n
6. **Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Accessibility** â€” Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚ÑŒ

---

## ğŸ¯ Ğ¤Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ²Ñ‹Ğ²Ğ¾Ğ´

### Ğ­Ñ‚Ğ¾ **ĞĞ•** Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ ĞºÑ€ĞµÑÑ‚Ğ¸ĞºĞ¸-Ğ½Ğ¾Ğ»Ğ¸ĞºĞ¸.

Ğ­Ñ‚Ğ¾:
- âœ… Ğ”ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¾Ñ„ĞµÑÑĞ¸Ğ¾Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¼Ğ°
- âœ… ĞŸĞ¾Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹
- âœ… Ğ—Ğ½Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ğ¾Ğ²
- âœ… Ğ£Ğ¼ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ Ñ‡Ğ¸ÑÑ‚Ñ‹Ğ¹ ĞºĞ¾Ğ´
- âœ… ĞĞ¿Ñ‹Ñ‚ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ ÑĞ¸ÑÑ‚ĞµĞ¼

